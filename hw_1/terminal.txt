Last login: Wed Aug 19 09:31:04 on ttys000 
konstantinlevchenko@Konstantin highload % vagrant init
A `Vagrantfile` has been placed in this directory. You are now
ready to `vagrant up` your first virtual environment! Please read
the comments in the Vagrantfile as well as documentation on
`vagrantup.com` for more information on using Vagrant.
konstantinlevchenko@Konstantin highload % vagrant up
Bringing machine 'default' up with 'virtualbox' provider...
==> default: Importing base box 'centos/7'...
==> default: Matching MAC address for NAT networking...
==> default: Checking if box 'centos/7' version '2004.01' is up to date...
==> default: Setting the name of the VM: HL
==> default: Clearing any previously set network interfaces...
==> default: Preparing network interfaces based on configuration...
    default: Adapter 1: nat
==> default: Forwarding ports...
    default: 22 (guest) => 2222 (host) (adapter 1)
==> default: Running 'pre-boot' VM customizations...
==> default: Booting VM...
==> default: Waiting for machine to boot. This may take a few minutes...
    default: SSH address: 127.0.0.1:2222
    default: SSH username: vagrant
    default: SSH auth method: private key
    default: 
    default: Vagrant insecure key detected. Vagrant will automatically replace
    default: this with a newly generated keypair for better security.
    default: 
    default: Inserting generated public key within guest...
    default: Removing insecure key from the guest if it's present...
    default: Key inserted! Disconnecting and reconnecting using new SSH key...
==> default: Machine booted and ready!
==> default: Checking for guest additions in VM...
    default: No guest additions were detected on the base box for this VM! Guest
    default: additions are required for forwarded ports, shared folders, host only
    default: networking, and more. If SSH fails on this machine, please install
    default: the guest additions and repackage the box to continue.
    default: 
    default: This is not an error message; everything may continue to work properly,
    default: in which case you may ignore this message.
==> default: Rsyncing folder: /Users/konstantinlevchenko/Documents/programing/web_developer/highload/ => /vagrant
konstantinlevchenko@Konstantin highload %
Last login: Thu Aug 20 08:59:33 on ttys000
konstantinlevchenko@Konstantin ~ % ssh vagrant@127.0.0.1 -p 2222
vagrant@127.0.0.1's password: 
[vagrant@localhost ~]$ sudo yum install epel-release
Failed to set locale, defaulting to C
Loaded plugins: fastestmirror
Determining fastest mirrors
 * base: mirror.corbina.net
 * extras: mirror.logol.ru
 * updates: mirror.corbina.net
base                                                     | 3.6 kB     00:00     
extras                                                   | 2.9 kB     00:00     
updates                                                  | 2.9 kB     00:00     
(1/4): base/7/x86_64/group_gz                              | 153 kB   00:00     
(2/4): extras/7/x86_64/primary_db                          | 206 kB   00:00     
(3/4): updates/7/x86_64/primary_db                         | 3.8 MB   00:02     
(4/4): base/7/x86_64/primary_db                            | 6.1 MB   00:10     
Resolving Dependencies
--> Running transaction check
---> Package epel-release.noarch 0:7-11 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                Arch             Version         Repository        Size
================================================================================
Installing:
 epel-release           noarch           7-11            extras            15 k

Transaction Summary
================================================================================
Install  1 Package

Total download size: 15 k
Installed size: 24 k
Is this ok [y/d/N]: y
Downloading packages:
warning: /var/cache/yum/x86_64/7/extras/packages/epel-release-7-11.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY
Public key for epel-release-7-11.noarch.rpm is not installed
epel-release-7-11.noarch.rpm                               |  15 kB   00:00     
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
Importing GPG key 0xF4A80EB5:
 Userid     : "CentOS-7 Key (CentOS 7 Official Signing Key) <security@centos.org>"
 Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5
 Package    : centos-release-7-8.2003.0.el7.centos.x86_64 (@anaconda)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
Is this ok [y/N]: y
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : epel-release-7-11.noarch                                     1/1 
  Verifying  : epel-release-7-11.noarch                                     1/1 

Installed:
  epel-release.noarch 0:7-11                                                    

Complete!
[vagrant@localhost ~]$ sudo rpm -Uvh http://rpms.remirepo.net/enterprise/remi-release-7.rpm
Retrieving http://rpms.remirepo.net/enterprise/remi-release-7.rpm
warning: /var/tmp/rpm-tmp.tzDbmW: Header V4 DSA/SHA1 Signature, key ID 00f97f56: NOKEY
Preparing...                          ################################# [100%]
Updating / installing...
   1:remi-release-7.8-1.el7.remi      ################################# [100%]
[vagrant@localhost ~]$ sudo yum install NGINX nano php72 php72-php-fpm
Failed to set locale, defaulting to C
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
epel/x86_64/metalink                                     | 4.7 kB     00:00     
 * base: mirror.corbina.net
 * epel: mirrors.colocall.net
 * extras: mirror.logol.ru
 * remi-safe: rpms.remirepo.net
 * updates: mirror.corbina.net
epel                                                     | 4.7 kB     00:00     
remi-safe                                                | 3.0 kB     00:00     
(1/4): epel/x86_64/group_gz                                |  95 kB   00:00     
(2/4): epel/x86_64/updateinfo                              | 1.0 MB   00:01     
(3/4): remi-safe/primary_db                                | 1.8 MB   00:02     
(4/4): epel/x86_64/primary_db                              | 6.9 MB   00:02     
No package NGINX available.
  * Maybe you meant: nginx
Resolving Dependencies
--> Running transaction check
---> Package nano.x86_64 0:2.3.1-10.el7 will be installed
---> Package php72.x86_64 0:2.0-1.el7.remi will be installed
--> Processing Dependency: php72-runtime(x86-64) = 2.0-1.el7.remi for package: php72-2.0-1.el7.remi.x86_64
--> Processing Dependency: php72-runtime for package: php72-2.0-1.el7.remi.x86_64
--> Processing Dependency: php72-php-common(x86-64) for package: php72-2.0-1.el7.remi.x86_64
--> Processing Dependency: php72-php-cli(x86-64) for package: php72-2.0-1.el7.remi.x86_64
---> Package php72-php-fpm.x86_64 0:7.2.33-1.el7.remi will be installed
--> Processing Dependency: libargon2.so.0()(64bit) for package: php72-php-fpm-7.2.33-1.el7.remi.x86_64
--> Running transaction check
---> Package libargon2.x86_64 0:20161029-3.el7 will be installed
---> Package php72-php-cli.x86_64 0:7.2.33-1.el7.remi will be installed
---> Package php72-php-common.x86_64 0:7.2.33-1.el7.remi will be installed
--> Processing Dependency: php72-php-json(x86-64) = 7.2.33-1.el7.remi for package: php72-php-common-7.2.33-1.el7.remi.x86_64
---> Package php72-runtime.x86_64 0:2.0-1.el7.remi will be installed
--> Processing Dependency: /usr/sbin/semanage for package: php72-runtime-2.0-1.el7.remi.x86_64
--> Processing Dependency: environment-modules for package: php72-runtime-2.0-1.el7.remi.x86_64
--> Processing Dependency: scl-utils for package: php72-runtime-2.0-1.el7.remi.x86_64
--> Running transaction check
---> Package environment-modules.x86_64 0:3.2.10-10.el7 will be installed
--> Processing Dependency: libtcl8.5.so()(64bit) for package: environment-modules-3.2.10-10.el7.x86_64
--> Processing Dependency: libX11.so.6()(64bit) for package: environment-modules-3.2.10-10.el7.x86_64
---> Package php72-php-json.x86_64 0:7.2.33-1.el7.remi will be installed
---> Package policycoreutils-python.x86_64 0:2.5-34.el7 will be installed
--> Processing Dependency: setools-libs >= 3.3.8-4 for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libsemanage-python >= 2.5-14 for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: audit-libs-python >= 2.1.3-4 for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: python-IPy for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libqpol.so.1(VERS_1.4)(64bit) for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libqpol.so.1(VERS_1.2)(64bit) for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libcgroup for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libapol.so.4(VERS_4.0)(64bit) for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: checkpolicy for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libqpol.so.1()(64bit) for package: policycoreutils-python-2.5-34.el7.x86_64
--> Processing Dependency: libapol.so.4()(64bit) for package: policycoreutils-python-2.5-34.el7.x86_64
---> Package scl-utils.x86_64 0:20130529-19.el7 will be installed
--> Running transaction check
---> Package audit-libs-python.x86_64 0:2.8.5-4.el7 will be installed
---> Package checkpolicy.x86_64 0:2.5-8.el7 will be installed
---> Package libX11.x86_64 0:1.6.7-2.el7 will be installed
--> Processing Dependency: libX11-common >= 1.6.7-2.el7 for package: libX11-1.6.7-2.el7.x86_64
--> Processing Dependency: libxcb.so.1()(64bit) for package: libX11-1.6.7-2.el7.x86_64
---> Package libcgroup.x86_64 0:0.41-21.el7 will be installed
---> Package libsemanage-python.x86_64 0:2.5-14.el7 will be installed
---> Package python-IPy.noarch 0:0.75-6.el7 will be installed
---> Package setools-libs.x86_64 0:3.3.8-4.el7 will be installed
---> Package tcl.x86_64 1:8.5.13-8.el7 will be installed
--> Running transaction check
---> Package libX11-common.noarch 0:1.6.7-2.el7 will be installed
---> Package libxcb.x86_64 0:1.13-1.el7 will be installed
--> Processing Dependency: libXau.so.6()(64bit) for package: libxcb-1.13-1.el7.x86_64
--> Running transaction check
---> Package libXau.x86_64 0:1.0.8-2.1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================
 Package                   Arch      Version                 Repository    Size
================================================================================
Installing:
 nano                      x86_64    2.3.1-10.el7            base         440 k
 php72                     x86_64    2.0-1.el7.remi          remi-safe    2.4 k
 php72-php-fpm             x86_64    7.2.33-1.el7.remi       remi-safe    1.7 M
Installing for dependencies:
 audit-libs-python         x86_64    2.8.5-4.el7             base          76 k
 checkpolicy               x86_64    2.5-8.el7               base         295 k
 environment-modules       x86_64    3.2.10-10.el7           base         107 k
 libX11                    x86_64    1.6.7-2.el7             base         607 k
 libX11-common             noarch    1.6.7-2.el7             base         164 k
 libXau                    x86_64    1.0.8-2.1.el7           base          29 k
 libargon2                 x86_64    20161029-3.el7          epel          23 k
 libcgroup                 x86_64    0.41-21.el7             base          66 k
 libsemanage-python        x86_64    2.5-14.el7              base         113 k
 libxcb                    x86_64    1.13-1.el7              base         214 k
 php72-php-cli             x86_64    7.2.33-1.el7.remi       remi-safe    3.2 M
 php72-php-common          x86_64    7.2.33-1.el7.remi       remi-safe    643 k
 php72-php-json            x86_64    7.2.33-1.el7.remi       remi-safe     70 k
 php72-runtime             x86_64    2.0-1.el7.remi          remi-safe    1.1 M
 policycoreutils-python    x86_64    2.5-34.el7              base         457 k
 python-IPy                noarch    0.75-6.el7              base          32 k
 scl-utils                 x86_64    20130529-19.el7         base          24 k
 setools-libs              x86_64    3.3.8-4.el7             base         620 k
 tcl                       x86_64    1:8.5.13-8.el7          base         1.9 M

Transaction Summary
================================================================================
Install  3 Packages (+19 Dependent packages)

Total download size: 12 M
Installed size: 36 M
Is this ok [y/d/N]: y
Downloading packages:
(1/22): audit-libs-python-2.8.5-4.el7.x86_64.rpm           |  76 kB   00:00     
(2/22): checkpolicy-2.5-8.el7.x86_64.rpm                   | 295 kB   00:00     
(3/22): environment-modules-3.2.10-10.el7.x86_64.rpm       | 107 kB   00:01     
(4/22): libXau-1.0.8-2.1.el7.x86_64.rpm                    |  29 kB   00:00     
(5/22): libX11-common-1.6.7-2.el7.noarch.rpm               | 164 kB   00:01     
(6/22): libX11-1.6.7-2.el7.x86_64.rpm                      | 607 kB   00:01     
(7/22): libcgroup-0.41-21.el7.x86_64.rpm                   |  66 kB   00:00     
(8/22): nano-2.3.1-10.el7.x86_64.rpm                       | 440 kB   00:00     
(9/22): libxcb-1.13-1.el7.x86_64.rpm                       | 214 kB   00:00     
warning: /var/cache/yum/x86_64/7/epel/packages/libargon2-20161029-3.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID 352c64e5: NOKEY
Public key for libargon2-20161029-3.el7.x86_64.rpm is not installed
(10/22): libargon2-20161029-3.el7.x86_64.rpm               |  23 kB   00:01     
(11/22): libsemanage-python-2.5-14.el7.x86_64.rpm          | 113 kB   00:01     
warning: /var/cache/yum/x86_64/7/remi-safe/packages/php72-2.0-1.el7.remi.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 00f97f56: NOKEY
Public key for php72-2.0-1.el7.remi.x86_64.rpm is not installed
(12/22): php72-2.0-1.el7.remi.x86_64.rpm                   | 2.4 kB   00:00     
(13/22): php72-php-json-7.2.33-1.el7.remi.x86_64.rpm       |  70 kB   00:00     
(14/22): policycoreutils-python-2.5-34.el7.x86_64.rpm      | 457 kB   00:00     
(15/22): php72-php-common-7.2.33-1.el7.remi.x86_64.rpm     | 643 kB   00:00     
(16/22): python-IPy-0.75-6.el7.noarch.rpm                  |  32 kB   00:00     
(17/22): scl-utils-20130529-19.el7.x86_64.rpm              |  24 kB   00:00     
(18/22): setools-libs-3.3.8-4.el7.x86_64.rpm               | 620 kB   00:00     
(19/22): php72-php-cli-7.2.33-1.el7.remi.x86_64.rpm        | 3.2 MB   00:02     
(20/22): php72-runtime-2.0-1.el7.remi.x86_64.rpm           | 1.1 MB   00:01     
(21/22): php72-php-fpm-7.2.33-1.el7.remi.x86_64.rpm        | 1.7 MB   00:02     
(22/22): tcl-8.5.13-8.el7.x86_64.rpm                       | 1.9 MB   00:01     
--------------------------------------------------------------------------------
Total                                              2.2 MB/s |  12 MB  00:05     
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
Importing GPG key 0x352C64E5:
 Userid     : "Fedora EPEL (7) <epel@fedoraproject.org>"
 Fingerprint: 91e9 7d7c 4a5e 96f1 7f3e 888f 6a2f aea2 352c 64e5
 Package    : epel-release-7-11.noarch (@extras)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
Is this ok [y/N]: y
Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Importing GPG key 0x00F97F56:
 Userid     : "Remi Collet <RPMS@FamilleCollet.com>"
 Fingerprint: 1ee0 4cce 88a4 ae4a a29a 5df5 004e 6f47 00f9 7f56
 Package    : remi-release-7.8-1.el7.remi.noarch (installed)
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-remi
Is this ok [y/N]: y
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Warning: RPMDB altered outside of yum.
  Installing : libargon2-20161029-3.el7.x86_64                             1/22 
  Installing : libcgroup-0.41-21.el7.x86_64                                2/22 
  Installing : libXau-1.0.8-2.1.el7.x86_64                                 3/22 
  Installing : libxcb-1.13-1.el7.x86_64                                    4/22 
  Installing : audit-libs-python-2.8.5-4.el7.x86_64                        5/22 
  Installing : libsemanage-python-2.5-14.el7.x86_64                        6/22 
  Installing : setools-libs-3.3.8-4.el7.x86_64                             7/22 
  Installing : libX11-common-1.6.7-2.el7.noarch                            8/22 
  Installing : libX11-1.6.7-2.el7.x86_64                                   9/22 
  Installing : python-IPy-0.75-6.el7.noarch                               10/22 
  Installing : scl-utils-20130529-19.el7.x86_64                           11/22 
  Installing : checkpolicy-2.5-8.el7.x86_64                               12/22 
  Installing : policycoreutils-python-2.5-34.el7.x86_64                   13/22 
  Installing : 1:tcl-8.5.13-8.el7.x86_64                                  14/22 
  Installing : environment-modules-3.2.10-10.el7.x86_64                   15/22 
  Installing : php72-runtime-2.0-1.el7.remi.x86_64                        16/22 
  Installing : php72-php-json-7.2.33-1.el7.remi.x86_64                    17/22 
  Installing : php72-php-common-7.2.33-1.el7.remi.x86_64                  18/22 
  Installing : php72-php-cli-7.2.33-1.el7.remi.x86_64                     19/22 
  Installing : php72-2.0-1.el7.remi.x86_64                                20/22 
  Installing : php72-php-fpm-7.2.33-1.el7.remi.x86_64                     21/22 
  Installing : nano-2.3.1-10.el7.x86_64                                   22/22 
  Verifying  : 1:tcl-8.5.13-8.el7.x86_64                                   1/22 
  Verifying  : environment-modules-3.2.10-10.el7.x86_64                    2/22 
  Verifying  : libargon2-20161029-3.el7.x86_64                             3/22 
  Verifying  : checkpolicy-2.5-8.el7.x86_64                                4/22 
  Verifying  : scl-utils-20130529-19.el7.x86_64                            5/22 
  Verifying  : python-IPy-0.75-6.el7.noarch                                6/22 
  Verifying  : libX11-1.6.7-2.el7.x86_64                                   7/22 
  Verifying  : libX11-common-1.6.7-2.el7.noarch                            8/22 
  Verifying  : libxcb-1.13-1.el7.x86_64                                    9/22 
  Verifying  : policycoreutils-python-2.5-34.el7.x86_64                   10/22 
  Verifying  : setools-libs-3.3.8-4.el7.x86_64                            11/22 
  Verifying  : php72-php-fpm-7.2.33-1.el7.remi.x86_64                     12/22 
  Verifying  : libsemanage-python-2.5-14.el7.x86_64                       13/22 
  Verifying  : audit-libs-python-2.8.5-4.el7.x86_64                       14/22 
  Verifying  : php72-runtime-2.0-1.el7.remi.x86_64                        15/22 
  Verifying  : php72-php-common-7.2.33-1.el7.remi.x86_64                  16/22 
  Verifying  : libXau-1.0.8-2.1.el7.x86_64                                17/22 
  Verifying  : php72-php-json-7.2.33-1.el7.remi.x86_64                    18/22 
  Verifying  : php72-2.0-1.el7.remi.x86_64                                19/22 
  Verifying  : php72-php-cli-7.2.33-1.el7.remi.x86_64                     20/22 
  Verifying  : nano-2.3.1-10.el7.x86_64                                   21/22 
  Verifying  : libcgroup-0.41-21.el7.x86_64                               22/22 

Installed:
  nano.x86_64 0:2.3.1-10.el7                   php72.x86_64 0:2.0-1.el7.remi    
  php72-php-fpm.x86_64 0:7.2.33-1.el7.remi    

Dependency Installed:
  audit-libs-python.x86_64 0:2.8.5-4.el7                                        
  checkpolicy.x86_64 0:2.5-8.el7                                                
  environment-modules.x86_64 0:3.2.10-10.el7                                    
  libX11.x86_64 0:1.6.7-2.el7                                                   
  libX11-common.noarch 0:1.6.7-2.el7                                            
  libXau.x86_64 0:1.0.8-2.1.el7                                                 
  libargon2.x86_64 0:20161029-3.el7                                             
  libcgroup.x86_64 0:0.41-21.el7                                                
  libsemanage-python.x86_64 0:2.5-14.el7                                        
  libxcb.x86_64 0:1.13-1.el7                                                    
  php72-php-cli.x86_64 0:7.2.33-1.el7.remi                                      
  php72-php-common.x86_64 0:7.2.33-1.el7.remi                                   
  php72-php-json.x86_64 0:7.2.33-1.el7.remi                                     
  php72-runtime.x86_64 0:2.0-1.el7.remi                                         
  policycoreutils-python.x86_64 0:2.5-34.el7                                    
  python-IPy.noarch 0:0.75-6.el7                                                
  scl-utils.x86_64 0:20130529-19.el7                                            
  setools-libs.x86_64 0:3.3.8-4.el7                                             
  tcl.x86_64 1:8.5.13-8.el7                                                     

Complete!
[vagrant@localhost ~]$
[vagrant@localhost ~]$ ls -a
.  ..  .bash_history  .bash_logout  .bash_profile  .bashrc  .ssh  php72
[vagrant@localhost ~]$ php -v
PHP 7.2.33 (cli) (built: Aug  4 2020 10:15:02) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies
[vagrant@localhost ~]$
[vagrant@localhost home]$ ls -la /usr/bin | grep php
lrwxrwxrwx.  1 root root        14 Aug 20 05:48 php -> /usr/bin/php72
lrwxrwxrwx.  1 root root        32 Aug 20 05:41 php72 -> /opt/remi/php72/root/usr/bin/php
lrwxrwxrwx.  1 root root        36 Aug 20 05:41 php72-cgi -> /opt/remi/php72/root/usr/bin/php-cgi
lrwxrwxrwx.  1 root root        38 Aug 20 05:41 php72-phar -> /opt/remi/php72/root/usr/bin/phar.phar
[vagrant@localhost home]$ sudo nano /etc/opt/remi/php72/php-fpm.d/www.conf
konstantinlevchenko@Konstantin hw_1 % scp -P 2222 vagrant@127.0.0.1:/etc/opt/remi/php72/php-fpm.d/www.conf /Users/konstantinlevchenko/Documents/programing/web_developer/highload/hw_1/
vagrant@127.0.0.1's password: 
www.conf                                      100%   19KB   5.7MB/s   00:00
[vagrant@localhost ~]$ cat /etc/selinux/config

# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected. 
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted


[vagrant@localhost ~]$ sudo nano /etc/selinux/config
[vagrant@localhost ~]$ sudo setenforce 0
[vagrant@localhost ~]$ mkdir /var/www/mysite.local/
mkdir: cannot create directory '/var/www/mysite.local/': No such file or directory

